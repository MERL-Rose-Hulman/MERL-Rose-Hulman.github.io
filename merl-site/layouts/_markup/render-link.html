{{- $dest := .Destination -}}
{{- $text := .Text -}}
{{- $title := .Title -}}

{{- $isAnchor := hasPrefix $dest "#" -}}
{{- $isMail := hasPrefix $dest "mailto:" -}}
{{- $isTel := hasPrefix $dest "tel:" -}}
{{- $isExternal := or (hasPrefix $dest "http://") (hasPrefix $dest "https://") -}}

{{- if not (or $isAnchor $isMail $isTel $isExternal) -}}
  {{- /* 内部链接：使用 relLangURL 保持当前语言 */ -}}
  {{- $dest = $dest | relLangURL -}}
{{- end -}}

<a href="{{ $dest }}"{{ with $title }} title="{{ . }}"{{ end }}{{ if $isExternal }} rel="noopener noreferrer" target="_blank"{{ end }}>{{ $text }}</a>

